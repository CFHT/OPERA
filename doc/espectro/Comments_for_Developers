<!DOCTYPE html>
<!-- saved from url=(0068)./Comments_for_Developers -->
<html lang="en" dir="ltr" class="client-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Comments for Developers - espectro</title>

<meta name="generator" content="MediaWiki 1.19.5">
<link rel="shortcut icon" href="http://200.131.64.73/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="http://200.131.64.73/wiki/espectro/opensearch_desc.php" title="espectro (en)">
<link rel="EditURI" type="application/rsd+xml" href="http://200.131.64.73/wiki/espectro/api.php?action=rsd">
<link rel="alternate" type="application/atom+xml" title="espectro Atom feed" href="http://200.131.64.73/wiki/espectro/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="./espectro_files/load.php">
<style type="text/css" media="all">.js-messagebox{margin:1em 5%;padding:0.5em 2.5%;border:1px solid #ccc;background-color:#fcfcfc;font-size:0.8em}.js-messagebox .js-messagebox-group{margin:1px;padding:0.5em 2.5%;border-bottom:1px solid #ddd}.js-messagebox .js-messagebox-group:last-child{border-bottom:thin none transparent}

/* cache key: lnawiki-espectro:resourceloader:filter:minify-css:7:8b08bdc91c52a9ffba396dccfb5b473c */


.mw-collapsible-toggle{float:right} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}

/* cache key: lnawiki-espectro:resourceloader:filter:minify-css:7:4250852ed2349a0d4d0fc6509a3e7d4c */
</style><meta name="ResourceLoaderDynamicStyles" content="">
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: lnawiki-espectro:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style>

<script src="./espectro_files/load(1).php"></script><script src="./espectro_files/load(2).php"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Comments_for_Developers","wgTitle":"Comments for Developers","wgCurRevisionId":1929,"wgArticleId":239,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"Comments_for_Developers","wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"templateEditor":false,"templates":false,"preview":true,"previewDialog":false,"publish":true,"toc":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: lnawiki-espectro:resourceloader:filter:minify-js:7:505b325ececdfc1317a6cea46e739f26 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script><script type="text/javascript" src="./espectro_files/load(3).php"></script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/wiki/espectro/skins/vector/csshover.min.htc")}</style><![endif]--><style type="text/css">
:root #content > #right > .dose > .dosesingle,
:root #content > #center > .dose > .dosesingle
{ display: none !important; }</style></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Comments_for_Developers skin-vector action-view">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;" class="js-messagebox"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">
				<span dir="auto">Comments for Developers</span>
			</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From espectro</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to: <a href="./Comments_for_Developers#mw-head">navigation</a>,
					<a href="./Comments_for_Developers#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><h3> <span class="mw-headline" id="OPERA_Driver"> OPERA Driver </span></h3>
<p>The program that runs OPERA is compiled as the bin file "$opera/bin/opera", which is stored in the $opera/bin/ directory. The source code for this file is "opera.cpp" and is stored in $opera/src/tools/, which requires the "opera.h" header file that is stored in $opera/include/tools/. When one runs the main program "opera", it calls the harness passing the command line arguments to it. The main harness script, "/harness/Makefile" will call all the other scripts to run the pipeline, and each script will call a sequence of other individual scripts, modules, tools, etc.
</p><p>As an alternative to the existing driver program and harness, a Python script has been developed with the goal of increasing the clarity of the execution process for OPERA. The Python script should provide the same functionality as the harness, however, some differences may exist that have not yet been tested. To use these scripts, you will need Python (tested on Python 2.7). For information on running these scripts, check the OPERA-cookbook.pdf in the pipeline folder.
</p>
<h3> <span class="mw-headline" id="Difference_between_libraries_and_modules"> Difference between libraries and modules </span></h3>
<p>Modules are self-contained programs with a "main". They should run independently without the need for any other software. They perform simple tasks that don't assume any information from the instrument/detector/mode in use. Everything that modules need to know about specific characteristics is passed as arguments on the command line.
</p><p>Libraries are also programs that form a group of functions that are linked to modules. For example, we may have a module that needs to read an image in FITS format, so this module will make use of opera FITS Image class libraries that have the proper functions to open and read the information in the FITS image.
</p><p>All modules and libraries, written in C/C++, have to be compiled and the respective executables sent to $opera/bin/. The source code and header files are stored in $/opera/src/ and $opera/include/ respectively.
</p>
<h3> <span class="mw-headline" id="Creating_and_testing_new_modules"> Creating and testing new modules </span></h3>
<p>Each module is an independent program that should run independently of every other module. Dependencies between modules are handled by the harness. The guest directories contain a sample module and harness call to that module.
</p><p>The easiest way to create a module is to copy the sample and modify it to your needs. The general architecture is that the module gathers the required arguments for processing ensuring that the inputs are all available. It then reads the required calibrations using the serialization/deserialization support in the operaSpectralOrderVector.
</p><p>In general you should create a class to store the products of a modules execution. After the class is created then operaSpectralOrderVector should be augmented to serialize / deserialize the class contents.
</p><p>You then need to edit Makfile.am to include your module. For example, here is the entry for core modules:
</p>
<pre># this lists the binaries to produce
bin_PROGRAMS = operaGeometry operaIntensityStarPlusSky operaSNR \
			operaFlatField operaIMShift operaPolar operaTelluricCorrection \
			operaGain operaIntensityStarOnly operaReductionSet operaWavelengthCalibration \
			operaRadialVelocity operaFitSN mymodule
</pre>		
<p>Add your module to the end of this list and then add the build rule:
</p>
<pre>mymodule_SOURCES = mymodule.cpp mymodule.h
</pre>
<p>Create the corresponding myclass.cpp and myclass.h in the src/libraries and include/libraries directories. The class should encapsulate the content created by processing done by the module.
</p><p>Then edit the src/libraries/Makefile.am to add the library:
</p>
<pre>lib_LIBRARIES = liboperaException.a ... libmyclass.a

libmyclasss_a_SOURCES = lmyclass.cpp myclass.h
</pre>
<p>Then add your library to the Makefile.am library list in the test/ src/core-guest and src/tools directories.
</p><p>After making changes to any Makefile.am, you should first run Autotools, then proceed with reinstalling.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 19/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key lnawiki-espectro:pcache:idhash:239-0!*!*!!*!*!* and timestamp 20170413210835 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://200.131.64.73/wiki/espectro/index.php?title=Comments_for_Developers&amp;oldid=1929">http://200.131.64.73/wiki/espectro/index.php?title=Comments_for_Developers&amp;oldid=1929</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id="catlinks" class="catlinks catlinks-allhidden"></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-login"><a href="http://200.131.64.73/wiki/espectro/index.php?title=Special:UserLogin&amp;returnto=Comments+for+Developers" title="You are encouraged to log in; however, it is not mandatory [alt-shift-o]" accesskey="o">Log in</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li id="ca-nstab-main" class="selected"><span><a href="./Comments_for_Developers" title="View the content page [alt-shift-c]" accesskey="c">Page</a></span></li>
					<li id="ca-talk" class="new"><span><a href="http://200.131.64.73/wiki/espectro/index.php?title=Talk:Comments_for_Developers&amp;action=edit&amp;redlink=1" title="Discussion about the content page [alt-shift-t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h4>
		</h4>
	<h5><span>Variants</span><a href="./Comments_for_Developers#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="./Comments_for_Developers">Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://200.131.64.73/wiki/espectro/index.php?title=Comments_for_Developers&amp;action=edit" title="This page is protected.
You can view its source [alt-shift-e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://200.131.64.73/wiki/espectro/index.php?title=Comments_for_Developers&amp;action=history" title="Past revisions of this page [alt-shift-h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="./Comments_for_Developers#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://200.131.64.73/wiki/espectro/index.php" id="searchform">
				<div>
			<input type="search" name="search" title="Search espectro [alt-shift-f]" accesskey="f" id="searchInput">			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton">			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton">					<input type="hidden" name="title" value="Special:Search">
		</div>
	</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(http://200.131.64.73/wiki/images/logo8.gif);" href="./Main_page" title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id="p-navigation">
	<h5>Navigation</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="./Main_page" title="Visit the main page [alt-shift-z]" accesskey="z">Main page</a></li>
			<li id="n-portal"><a href="http://200.131.64.73/wiki/espectro/index.php/Espectro:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-currentevents"><a href="http://200.131.64.73/wiki/espectro/index.php/Espectro:Current_events" title="Find background information on current events">Current events</a></li>
			<li id="n-recentchanges"><a href="http://200.131.64.73/wiki/espectro/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [alt-shift-r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://200.131.64.73/wiki/espectro/index.php/Special:Random" title="Load a random page [alt-shift-x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="http://200.131.64.73/wiki/espectro/index.php/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id="p-tb">
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://200.131.64.73/wiki/espectro/index.php/Special:WhatLinksHere/Comments_for_Developers" title="A list of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://200.131.64.73/wiki/espectro/index.php/Special:RecentChangesLinked/Comments_for_Developers" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://200.131.64.73/wiki/espectro/index.php/Special:SpecialPages" title="A list of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li>
			<li><a href="http://200.131.64.73/wiki/espectro/index.php?title=Comments_for_Developers&amp;printable=yes" rel="alternate">Printable version</a></li>
			<li id="t-permalink"><a href="http://200.131.64.73/wiki/espectro/index.php?title=Comments_for_Developers&amp;oldid=1929" title="Permanent link to this revision of the page">Permanent link</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 22 March 2017, at 22:16.</li>
											<li id="footer-info-viewcount">This page has been accessed 10 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://200.131.64.73/wiki/espectro/index.php/Espectro:Privacy_policy" title="Espectro:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="http://200.131.64.73/wiki/espectro/index.php/Espectro:About" title="Espectro:About">About espectro</a></li>
											<li id="footer-places-disclaimer"><a href="http://200.131.64.73/wiki/espectro/index.php/Espectro:General_disclaimer" title="Espectro:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="./espectro_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31"></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script src="./espectro_files/load(4).php"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready"], null, true);
}</script><script src="./espectro_files/load(5).php" type="text/javascript"></script>
<!-- Served in 0.156 secs. -->
	

</body></html>